## Công nghệ phần mềm
### Đặc tả

---
### Giới thiệu 
- Đặc tả phần mềm kết nối khách hàng với đội ngũ phát triển
    -  Khách hàng khẳng định yêu cầu phần mềm theo đặc tả là đúng
    -  Đội phát triển sử dụng đặc tả để thiết kế và cài đặt theo đúng yêu cầu của khách hàng
- Theo quy trình linh hoạt (agile), tài liệu đặc tả sẽ được viết vào giai đoạn cuối, khi phần mềm đã cơ bản hoàn thành.
---
### Hai loại yêu cầu
- Các yêu cầu quy trình được chia ra làm 2 nhóm chính:
    - Các yêu cầu chức năng, là những gì hệ thống cần làm
        + Ví dụ: người dùng có thể đăng xuất
    - Các yêu cầu phi chức năng, là chất lượng cần đạt của hệ thống
        + Ví dụ: phần mềm dễ sử dụng, chạy ổn định
---
### Yêu cầu phi chức năng
- Các bên liên quan (stackholders) có thể quan tâm đến các yêu cầu phi chức năng khác nhau
    - Khách hàng quan tâm đến tính dễ sử dụng, chạy ổn định,..
    - Đội phát triển quan tâm đến độ tin cậy, độ phức tạp, dễ kiểm thử, bảo trì,..
---
### Yêu cầu mâu thuẫn
- Các yêu cầu phi chức năng có thể mâu thuẫn với nhau
    - Ví dụ: khách hàng vừa muốn phần mềm dễ sử dụng, chạy nhanh, nhưng lại an toàn
		- thường để đảm bảo an toàn thì tốc độ sẽ bị ảnh hưởng
    - Các bên liên quan cần phải thỏa thuận với nhau về độ ưu tiên của các yêu cầu phi chức năng
- Lưu ý: 
	- Khi làm tài liệu về yêu cầu ta chỉ cần nêu những việc hệ thống cần làm 
	- Chứ chưa quan tâm sẽ làm những điều đó bằng cách nào
---
### Đặc tính của yêu cầu
- Các yêu cầu phải đảm bảo 4 điều kiện:
	- Đầy đủ
	- Nhất quán
	- Chính xác
	- Xúc tích	
---
### Quy trình yêu cầu
- Quá trình đặc tả phần mềm là lặp đi lặp lại các bước:
	- Thu thập, làm rõ (Elicitation)
	- Phân tích (Analysis)
	- Cụ thể hóa (Reification)
	- Thẩm định (Validation)
---
### Các yêu cầu khác 
- Một số yêu cầu khác
	- Ràng buộc thiết kế (design constraints) 
	- Ràng buộc về môi trường (environmental constraints)
	- Sở thích của khách hàng (preference)

---
### Thẩm định yêu cầu
- Yêu cầu
- Lợi ích
- Nội dung
---

### Yêu cầu
- Các yêu cầu phải có cơ sở, nguồn gốc.
- Phù hợp với mong muốn của người dùng.
- Xác định được giá trị mà chức năng nó mang lại.
- Thẩm định yêu cầu là một bước quan trọng quá trình làm phần mêm!!!

---
### Lợi ích
- Trên thực tế các yêu cầu rõ ràng về ích lợi mang lại.
- Đội phát triển có thể hiểu và đánh giá công sức thực hiện yêu cầu.
- Đội phát triển và khách hàng cùng thống nhất về hiệu quả, lợi ích mang lại của việc thực hiện yêu cầu.

---

## Nội dung 
- Chúng ta thường tìm thấy vấn đề trong quá trình làm phần mềm 
- Một số yêu cầu dễ thấy ta có thể viết thành 1 danh sách và làm theo danh sách
- Thực tế thì các yêu cầu phức tạp hơn nên ta xác định và đánh giá các yêu cầu bằng cách đánh giá hiệu suất.

---

## Nội Dung 
### Hiệu suất

- Có thể hiểu theo nhiều cách khác nhau nhưng có thể hiểu theo 2 cách:

   + Thời Gian

   + Lưu trữ hoặc không gian

---

## Hiệu suất
### Thời gian
- Thời gian phản ứng( Thông lượng):

   + Giờ cao điểm: vd hệ thống có thể xử lí 50 người / giây.

   + Bình thường: 10 giao dịch / giây
    
- Thời gian trả lời:

   Vd: Hệ thống trả lời người dùng trong 150 mili giây.

---

## Hiệu suất
### Lưu trữ

- Bộ nhớ

- Ổ đĩa

---

## **USER STORIES**
---
1. ROLE - GOAL - BENEFIT 
2. LIMITATIONS
3. DEFINITION OF DONE
4. ENGINEERING TASKS
5. EFFORT ESTIMATE
---

## **ROLE - GOAL - BENEFIT** 
- Hiểu được mục tiêu, lợi ích những gì họ đang làm.
- Thêm, bớt tính năng có làm tăng giá trị sản phẩm?
---

## **LIMITATIONS**
- Những hạn chế của tính năng.
---

## **DEFINITION OF DONE**
- Xác nhận tính hoàn thiện của tính năng.	
---

## **ENGINEERING TASKS**
- Có giá trị cho đội ngũ phát triển.
- Theo dõi các tính năng tương tác với nhau trong hệ thống.
---

## **EFFORT ESTIMATE**
- ước tính chi phí tổng thể của một sản phẩm.
- Có nên thêm tính năng cho sản phẩm? chi phí so với hiệu quả của tính năng?


---

### Nguyên tắc INVEST

Giúp các kỹ sư và khách hàng viết nên những User story  có hiệu quả.
**I (Independent) - Nguyên tắc là độc lập .**
-  User story nên được khép kín, theo cách không có sự phụ thuộc các User story khác
 
**N (Negotiable) - Thỏa thuận trong Giai đoạn đàm phán.**
- Các cuộc đàm phán thường phải dừng lại khi các tính năng bổ sung hay chi tiết bổ sung được thêm vào User story.

**V ( Valuable) - Đánh giá User story**
-  Đánh giá giá trị của một tính năng tại thời điểm mà chúng ta đang cân nhắc xây dựng nó.
**E (Estimable) - Ước tính các tính năng**
-  Phải đảm bảo có sự hiểu biết cụ thể và thực tế về chi phí cho những tính năng thực sự quan trọng.

**S (Small) - Các tính năng nhỏ**
- User stories nên càng nhỏ càng tốt .

**T (Testable) - Kiểm chứng**
- Để cả khách hàng và nhà phát triển có thể chắc chắn rằng tính năng đã được phát triển theo cách phù hợp với cả hai bên.


---
### Một ví dụ cụ thể về User story:
- Như một prof ( giáo sư ), tôi muốn tạo ra một tập hợp các Repo để học sinh có thể thực hiện công việc của mình.

**Bước 1: Independent- Độc lập**

-vai trò : là giáo sư
- mục đích: tạo ra các repo

**Bước 2 : Negotiable - Thỏa thuận**

-cần làm: respository names, student ids trong trường hợp này nó sẽ là các ID sinh viên và sẽ là tên người dùng GitHub

---
### Một ví dụ cụ thể về User story:

**Bước 3: Valuable - Đánh giá**

 Lợi ích: học sinh có thể làm công việc của mình


**Bước 4: Small - Tính năng nhỏ**

+ có thể sử dụng Github manager

**Bước 5: Estimable - Ước tính**

---

### Một ví dụ cụ thể về User story:

+ ước tính chi phí: 1.5 units (units phụ thuộc vào team)

**Bước 6: Valuable- Đánh giá**

- cần chạy nó như 1 command riêng lẻ
- các test cases tự động
- hàm ý các test case: lập trình kiểm chứng được


=> biết được input, định nghĩa sản phẩm và các kiểm tra nó và có 1 ước tính rõ ràng về chi phí

---

### Phân tích User Story (1)

- Xét ví dụ :  “Là một người chơi, mục tiêu của chúng ta như một người chơi là di chuyển Mario”
- Xác định  Vai trò : player
	+ Mục đích : di chuyển Mario
	+ Lợi ích : tấn công/tránh
	+ Giớ hạn : đầu vào từ bàn phím
- Xây dựng DoD : “Bàn phím điều khiển hoạt động của Mario. Mario có thể lên level. Khi Mario va chạm với kẻ địch, một trong chúng có thể bị thương.”
- Đánh giá DoD qua bộ tiêu chí INVEST


---

### Phân tích User Story (2)
- Xác định các thực thể : Level, Mario, Enemy, Figure, Key
- Liên kết các thực thể : Mario, Enemy với Figure, Figure và Level, Level và Key
- Xác định các ràng buộc : Keypress, move, collide, hit
- Tạo dựng kịch bản để tìm ra thiếu sót :
	+ Điều gì xảy ra khi Mario di chuyển và va chạm với Enemy -> Level nhận keypress thông qua input
	+ Level kiểm soát nhiều Figure -> thêm phương thức updates với level
	+ Làm thế nào để biết Mario đang va chạm với kẻ thù -> thêm phương thức collide với Mario


---
### Phân tích User Story (3)
- Hình thức hóa protoype bằng UML class diagram
- Class Key:  gồm 1 method keyPressed(Event)
	+ keyPressed sẽ gọi class Level
- Class Level: 
	+ mario: kiểu Mario, 
	+ enemies: 1 mảng các Enemy
	+ phương thức input(command) và update()
- interface Figure là compositon đối với class Level
- Figure: move(Dir), hit(), collision(Figure)

---

### Phân tích User Story (4)
![](/assets/image/scenario.JPG)

- Giả sử người dùng bấm left arrow <- và mario sẽ va chạm với một enemy
- Đầu tiên xét trong class Key:
	+ keyPress chuyển left arrow direction cho input() 
	+ input() gọi move và Mario sẽ di chuyển theo direction đó
	+ sau đó input gọi update(), update tất cả vị trí của enemies
- Vì kịch bản là Mario sẽ va chạm với một enemy 
	+ level sẽ gọi collide(Enemy)
	+ Mario sẽ gọi hit() trên enemy

---
### Phân tích User Story (5)
![](/assets/image/formalizeUML.JPG)